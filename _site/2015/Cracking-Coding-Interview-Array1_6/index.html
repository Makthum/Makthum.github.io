<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width initial-scale=1" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge">

  <title>Program to Rotate NxN matrix by 90 degrees in place.</title>
  <meta name="description" content="Software Engineer, technophile and an enthusiatic gamer">
  <meta name="author" content="Mohamed Makthum Mohamed Ikbal">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Mohamed Makthum Mohamed Ikbal">
  <meta name="twitter:description" content="Software Engineer, technophile and an enthusiatic gamer">

  <meta property="og:type" content="article">
  <meta property="og:title" content="Mohamed Makthum Mohamed Ikbal">
  <meta property="og:description" content="Software Engineer, technophile and an enthusiatic gamer">

  <link rel="apple-touch-icon" sizes="57x57" href="/images/favicons/apple-touch-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/images/favicons/apple-touch-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/images/favicons/apple-touch-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/images/favicons/apple-touch-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/images/favicons/apple-touch-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/images/favicons/apple-touch-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/images/favicons/apple-touch-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/images/favicons/apple-touch-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/favicons/apple-touch-icon-180x180.png">
  <link rel="icon" type="image/png" href="/images/favicons/favicon-32x32.png" sizes="32x32">
  <link rel="icon" type="image/png" href="/images/favicons/favicon-194x194.png" sizes="194x194">
  <link rel="icon" type="image/png" href="/images/favicons/favicon-96x96.png" sizes="96x96">
  <link rel="icon" type="image/png" href="/images/favicons/android-chrome-192x192.png" sizes="192x192">
  <link rel="icon" type="image/png" href="/images/favicons/favicon-16x16.png" sizes="16x16">
  <link rel="manifest" href="/images/favicons/manifest.json">
  <link rel="shortcut icon" href="/images/favicons/favicon.ico">
  <meta name="msapplication-TileColor" content="#ffc40d">
  <meta name="msapplication-TileImage" content="/images/favicons/mstile-144x144.png">
  <meta name="theme-color" content="#ffffff">

  <link rel="stylesheet" href="/css/main.css">
  <link rel="canonical" href="http://makthum.com//2015/Cracking-Coding-Interview-Array1_6/">
  <link rel="alternate" type="application/rss+xml" title="Mohamed Makthum Mohamed Ikbal" href="/feed.xml">
</head>


  <body>
    <span class="mobile btn-mobile-menu">
  <i class="icon icon-list btn-mobile-menu__icon"></i>
  <i class="icon icon-x-circle btn-mobile-close__icon hidden"></i>
</span>
  
<header class="panel-cover" style="background-image: url(/images/cover.jpg)">
  <div class="panel-main">

    <div class="panel-main__inner panel-inverted">
    <div class="panel-main__content">
        <a href="/" title="link to home of Mohamed Makthum Mohamed Ikbal">
          <img src="/images/profile.jpg" class="user-image" alt="My Profile Photo">
          <h1 class="panel-cover__title panel-title">Mohamed Makthum Mohamed Ikbal</h1>
        </a>
        <hr class="panel-cover__divider">
        <p class="panel-cover__description">Software Engineer, technophile and an enthusiatic gamer</p>
        <hr class="panel-cover__divider panel-cover__divider--secondary">

        <div class="navigation-wrapper">

          <nav class="cover-navigation cover-navigation--primary">
            <ul class="navigation">
              <li class="navigation__item"><a href="/#blog" title="link to Mohamed Makthum Mohamed Ikbal blog" class="blog-button">Blog</a></li>
            </ul>
          </nav>

          <nav class="cover-navigation navigation--social">
            <ul class="navigation">
          
            
              <!-- Twitter -->
              <li class="navigation__item">
                <a href="http://twitter.com/makthum_mohamed" title="@makthum_mohamed on Twitter" target="_blank">
                  <i class="icon icon-social-twitter"></i>
                  <span class="label">Twitter</span>
                </a>
              </li>
            

            
              <!-- Facebook -->
              <li class="navigation__item">
                <a href="http://fb.me/makthum.Mohamed" title="makthum.Mohamed on Facebook" target="_blank">
                  <i class="icon icon-social-facebook"></i>
                  <span class="label">Facebook</span>
                </a>
              </li>
            

            
              <!-- LinkedIn -->
              <li class="navigation__item">
                <a href="https://www.linkedin.com/in/makthum" title="makthum on LinkedIn" target="_blank">
                  <i class="icon icon-social-linkedin"></i>
                  <span class="label">LinkedIn</span>
                </a>
              </li>
            

            
              <!-- GitHub -->
              <li class="navigation__item">
                <a href="https://www.github.com/makthum" title="makthum on GitHub" target="_blank">
                  <i class="icon icon-social-github"></i>
                  <span class="label">GitHub</span>
                </a>
              </li>
            

            
              <!-- Email -->
              <li class="navigation__item">
                <a href="mailto:makthum@gmail.com" title="Email makthum@gmail.com" target="_blank">
                  <i class="icon icon-mail"></i>
                  <span class="label">Email</span>
                </a>
              </li>
            

            <!-- RSS -->
            <li class="navigation__item">
              <a href="/feed.xml" title="Subscribe" target="_blank">
                <i class="icon icon-rss"></i>
                <span class="label">RSS</span>
              </a>
            </li>
          
            </ul>
          </nav>

        </div>

      </div>

    </div>

    <div class="panel-cover--overlay"></div>
  </div>
</header>


    <div class="content-wrapper">
      <div class="content-wrapper__inner">
        <article class="post-container post-container--single">
  <header class="post-header">
    <div class="post-meta">
      <time datetime="14 Jan 2015" class="post-meta__date date">14 Jan 2015</time> &#8226; <span class="post-meta__tags">on <a href="/tags/#-Cracking">-Cracking</a> <a href="/tags/#Coding">Coding</a> <a href="/tags/#Interview">Interview</a> <a href="/tags/#-Matrix">-Matrix</a> <a href="/tags/#Rotation">Rotation</a> <a href="/tags/#-Java">-Java</a> </span>
    </div>
    <h1 class="post-title">Program to Rotate NxN matrix by 90 degrees in place.</h1>
  </header>

  <section class="post">
    <p>Given an image represented by an NxN matrix, where each pixel in the image is 4 bytes, write a method to rotate the image by 90 degrees Can you do this in place?</p>

<p>This question is an interesting one as it requires you too do the rotation in place without using additional array. I was able to crack the logic behind it though i had to take some help before I could completely put the answer on paper.</p>

<h2 id="question">Question</h2>

<p>What does the question wants you to solve ? Suppose you are given an array like</p>

<p>0 0 1    90 degree clockwise     1 0 0 <br />
  0 1 0      ——————&gt;             0 1 0 <br />
  1 0 0                                             0 0 1 <br /></p>

<p>catch here is you need to do them in place.</p>

<p>if you compare orginial matric and the roated matrix you can find out the row 1 and 3 have be reversed to get the result matrix. In this case it looks good. I wanted try same logic with all unique values</p>

<p>00 01 02    90 degree clockwise     20 10 00 <br />
  10 11 12      ——————&gt;             21 11 01 <br />
  20 21 22                                             22 12 02 <br /></p>

<p>so looking at this example it is clear that it not just as simple as reversing row 1 and 3. But I also noticed there is some kind of swapping happening around the edge elements</p>

<p><strong>00</strong> 01 <strong>02</strong>    90 degree clockwise     <strong>20</strong> 10 <strong>00</strong> <br />
  10 11 12      ——————&gt;             21 11 01 <br />
  <strong>20</strong> 21 <strong>22</strong>                                             <strong>22</strong> 12 <strong>02</strong> <br /></p>

<p>you can now see its one clockwise rotation of edge elements.</p>

<p>00 <strong>01</strong> 02    90 degree clockwise     20 <strong>10</strong> 00 <br />
  <strong>10</strong> 11 <strong>12</strong>      ——————&gt;             <strong>21</strong> 11 <strong>01</strong> <br />
  20 <strong>21</strong> 22                                             22 <strong>12</strong> 02 <br /></p>

<p>When you look at the second set of values rotated you can find that all values are located at certain offset from the last element or first element of that row. Using the intuition we will try to understand the logic behind this code snippet.</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">rotate</span><span class="p">(</span><span class="kt">int</span><span class="o">[][]</span> <span class="n">matrix</span><span class="o">,</span> <span class="kt">int</span> <span class="n">n</span><span class="o">)</span> <span class="o">{</span> 
  <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">layer</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">layer</span> <span class="o">&lt;</span> <span class="n">n</span> <span class="o">/</span> <span class="mi">2</span><span class="o">;</span> <span class="o">++</span><span class="n">layer</span><span class="o">)</span> <span class="o">{</span>
    <span class="kt">int</span> <span class="n">first</span> <span class="o">=</span> <span class="n">layer</span><span class="o">;</span> <span class="n">intlast</span><span class="o">=</span><span class="n">n</span><span class="o">-</span><span class="mi">1</span><span class="o">-</span><span class="n">layer</span><span class="o">;</span>
    <span class="k">for</span><span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="n">first</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">last</span><span class="o">;</span> <span class="o">++</span><span class="n">i</span><span class="o">)</span> <span class="o">{</span>
      <span class="kt">int</span> <span class="n">offset</span> <span class="o">=</span> <span class="n">i</span> <span class="o">-</span> <span class="n">first</span><span class="o">;</span>
      <span class="kt">int</span> <span class="n">top</span> <span class="o">=</span> <span class="n">matrix</span><span class="o">[</span><span class="n">first</span><span class="o">][</span><span class="n">i</span><span class="o">];</span> <span class="c1">// save top</span>
      <span class="c1">// left -&gt; top</span>
      <span class="n">matrix</span><span class="o">[</span><span class="n">first</span><span class="o">][</span><span class="n">i</span><span class="o">]</span> <span class="o">=</span> <span class="n">matrix</span><span class="o">[</span><span class="n">last</span><span class="o">-</span><span class="n">offset</span><span class="o">][</span><span class="n">first</span><span class="o">];</span>
      <span class="c1">// bottom -&gt; left</span>
      <span class="n">matrix</span><span class="o">[</span><span class="n">last</span><span class="o">-</span><span class="n">offset</span><span class="o">][</span><span class="n">first</span><span class="o">]</span> <span class="o">=</span> <span class="n">matrix</span><span class="o">[</span><span class="n">last</span><span class="o">][</span><span class="n">last</span> <span class="o">-</span> <span class="n">offset</span><span class="o">];</span>
      <span class="c1">// right -&gt; bottom</span>
      <span class="n">matrix</span><span class="o">[</span><span class="n">last</span><span class="o">][</span><span class="n">last</span> <span class="o">-</span> <span class="n">offset</span><span class="o">]</span> <span class="o">=</span> <span class="n">matrix</span><span class="o">[</span><span class="n">i</span><span class="o">][</span><span class="n">last</span><span class="o">];</span>
      <span class="c1">// top -&gt; right</span>
      <span class="n">matrix</span><span class="o">[</span><span class="n">i</span><span class="o">][</span><span class="n">last</span><span class="o">]</span> <span class="o">=</span> <span class="n">top</span><span class="o">;</span> <span class="c1">// right &lt;- saved top </span>
    <span class="o">}</span>
  <span class="o">}</span>
<span class="o">}</span>
</code></pre>
</div>

<p>source : Cracking Coding Interview Solutions</p>

<p>This solution is expanded to any matrix of size N. Applying the same logic we saw in our examples. In this code First Loop iterates to half of N and each time first element to start the iteration with is incremented. I am not gonna explain the debugging this code with example as i leave it you. I hope this helps.</p>

  </section>
  <section id="disqus_thread"></section><!-- /#disqus_thread -->
</article>

    <script type="text/javascript">
      var disqus_config = function () {
        this.page.url = 'http://makthum.com/2015/Cracking-Coding-Interview-Array1_6/';  // Replace PAGE_URL with your page's canonical URL variable
        this.page.identifier = '/2015/Cracking-Coding Interview-Array1_6'; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
      };

      (function() { // DON'T EDIT BELOW THIS LINE
        var d = document, s = d.createElement('script');
        s.src = '//makthum.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
       })();
    </script>
    <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
    <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>



      </div>

      <footer class="footer">
  <span class="footer__copyright">&copy; 2016 Mohamed Makthum Mohamed Ikbal. All rights reserved.</span>
</footer> 

<script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
<script type="text/javascript" src="/js/main.js"></script>

    </div>
  </body>
</html>